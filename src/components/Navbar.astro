---
import Logo from "../assets/achieve.webp"
import Layout from '../layouts/Layout.astro';
import Languages from "../assets/translations.json"
import PtFlag from '../assets/pt.jpg'
import EnFlag from '../assets/en.jpg'

const { lang } = Astro.params;
const langPrefix = "/"+lang+"/";
const path = Astro.url.pathname.split('/')[2];

const links = [
  {
    "src": langPrefix,
    "name": (lang=="pt"?"Início":"Home")
  },
  {
    "src": langPrefix+"fleet",
    "name": (lang=="pt"?"Frota":"Fleet")
  },
  {
    "src": langPrefix+"seats",
    "name": (lang=="pt"?"Cadeiras Auto":"Car Seats")
  },
  {
    "src": langPrefix+"accommodations",
    "name": (lang=="pt"?"Alojamentos":"Accommodations")
  },
  {
    "src": langPrefix+"about",
    "name": (lang=="pt"?"Sobre nós":"About Us")
  },
  {
    "src": langPrefix+"contact",
    "name": (lang=="pt"?"Contate-nos":"Contact Us")
  }
]

const flags = [
  {
    "src": "/pt/"+path,
    "image": PtFlag.src,
    "name": "Portuguese Flag"
  },
  {
    "src": "/en/"+path,
    "image": EnFlag.src,
    "name": "English Flag"
  },
]
---

<nav class="fixed top-0 left-0 w-full h-24 flex items-center justify-between p-8 bg-white text-blue-800">

    <div id="logo" class="flex items-center">
        <a href="/">
            <img src={Logo.src} alt="Achieve Rent a Car logo">
        </a>
    </div>

    <div class="flex items-center gap-4">

        <div id="links" class="flex items-center gap-4">
            {links.map((link) =>
                <a href={link.src}>{link.name}</a>
            )}
        </div>

        <div id="languages" class="flex items-center gap-4">
            {flags.map((language) =>
                <a href={language.src}>
                    <img src={language.image} alt={language.name} class="rounded">
                </a>
            )}
        </div>

    </div>

</nav>
